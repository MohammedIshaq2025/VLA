{
  "run_id": "v2_eval_libero_spatial_task0_q200_20260120_115427",
  "timestamp": "20260120_120346",
  "direction": "Direction 2: Deviation Analysis for Closed-Loop Attack",
  "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task0_q200_20260120_115427_patch.npy",
  "patch_position": [
    48,
    48
  ],
  "args": {
    "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task0_q200_20260120_115427_patch.npy",
    "suite": "libero_spatial",
    "task_id": 0,
    "train_ratio": 0.7,
    "frames_per_episode": 10,
    "deviation_threshold": 0.3,
    "drift_threshold": 0.05,
    "task_scale": 0.1,
    "sdr_windows": "3,5,10",
    "patch_x": 48,
    "patch_y": 48,
    "model_path": "/data1/ma1/Ishaq/ump-vla/checkpoints/openvla-7b",
    "device": "cuda:0",
    "output_dir": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack",
    "seed": 42
  },
  "task_info": {
    "task_name": "pick_up_the_black_bowl_between_the_plate_and_the_ramekin_and_place_it_on_the_plate",
    "instruction": "pick up the black bowl between the plate and the ramekin and place it on the plate",
    "total_episodes": 50,
    "test_episodes": 15,
    "test_indices": [
      1,
      2,
      5,
      6,
      7,
      8,
      14,
      15,
      17,
      27,
      34,
      37,
      40,
      47,
      49
    ],
    "frames_per_episode": 10,
    "total_frames": 150
  },
  "testing_time_seconds": 54.06798028945923,
  "metrics": {
    "deviation": {
      "average": 0.5771426208950242,
      "std": 0.5036454776844994,
      "max": 1.1733492450869978,
      "min": 0.016374034914390878,
      "rate": 0.5
    },
    "components": {
      "position": 0.020840552869194506,
      "rotation": 0.0592563163918427,
      "gripper": 0.49704575163398695
    },
    "cumulative": {
      "avg_per_episode": 5.771426208950242,
      "total": 86.5713931342536,
      "total_position": 3.1260829303791757,
      "projected_100_frames": 2.0840552869194506
    },
    "baseline": {
      "avg_gt_error_clean": 2.0119662888229564,
      "avg_gt_error_patched": 1.901465021790409,
      "error_change": -0.11050126703254737
    },
    "trajectory": {
      "cdt": {
        "success_rate": 0.6666666666666666,
        "n_successes": 10,
        "n_episodes": 15
      },
      "ttf": {
        "mean_frames": 5.461538461538462,
        "min_frames": 3,
        "max_frames": 10,
        "success_rate": 0.8666666666666667
      },
      "sdr": {
        "3": 0.9083333333333333,
        "5": 0.8555555555555556,
        "10": 0.9333333333333333
      },
      "tfp": {
        "mean_score": 0.677079916541393,
        "max_score": 1.1591672394595924,
        "above_1_rate": 0.26666666666666666
      },
      "actual_drift": {
        "mean": 0.06770799165413931,
        "max": 0.11591672394595925,
        "consistency_mean": 0.3158667217449175
      },
      "legacy_cumulative_drift": {
        "mean": 0.2084055286919451,
        "max": 0.2925937198454967
      }
    }
  },
  "episode_metrics": [
    {
      "episode_id": 0,
      "original_id": 1,
      "num_frames": 10,
      "avg_deviation": 0.5855541611430077,
      "std_deviation": 0.5301549081686814,
      "avg_pos_deviation": 0.019134646539730262,
      "avg_rot_deviation": 0.06759598519151287,
      "avg_grip_deviation": 0.4988235294117647,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.855541611430078,
      "cumulative_pos_deviation": 0.1913464653973026,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 5,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.33612912876511475,
        "cumulative_pos_drift": 0.1913464653973026,
        "actual_drift": {
          "final_drift": 0.033612912876511476,
          "max_drift": 0.06811876364502452,
          "drift_consistency": 0.1756651791297396,
          "drift_trajectory": [
            0.009492755141150284,
            0.016571041184095865,
            0.03464969660190819,
            0.031727006148098646,
            0.05426548957463944,
            0.06811876364502452,
            0.04828164600483388,
            0.034817787951067325,
            0.03263829855349983,
            0.033612912876511476
          ]
        }
      }
    },
    {
      "episode_id": 1,
      "original_id": 2,
      "num_frames": 10,
      "avg_deviation": 0.3876345779763316,
      "std_deviation": 0.4652332361058728,
      "avg_pos_deviation": 0.018318657302906154,
      "avg_rot_deviation": 0.07049239126166076,
      "avg_grip_deviation": 0.2988235294117647,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.8763457797633163,
      "cumulative_pos_deviation": 0.18318657302906152,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.625,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.3773399787023322,
        "cumulative_pos_drift": 0.18318657302906152,
        "actual_drift": {
          "final_drift": 0.037733997870233224,
          "max_drift": 0.0456826024247108,
          "drift_consistency": 0.20598668988900207,
          "drift_trajectory": [
            0.0,
            0.0,
            0.008481671512479767,
            0.0456826024247108,
            0.016304630323575313,
            0.03799546430578454,
            0.03940784411269383,
            0.0395309941524488,
            0.0383477440801006,
            0.037733997870233224
          ]
        }
      }
    },
    {
      "episode_id": 2,
      "original_id": 5,
      "num_frames": 10,
      "avg_deviation": 0.771642148698217,
      "std_deviation": 0.4477416855492646,
      "avg_pos_deviation": 0.01636075326872971,
      "avg_rot_deviation": 0.05802649346870299,
      "avg_grip_deviation": 0.6972549019607843,
      "deviation_rate": 0.7,
      "cumulative_deviation": 7.71642148698217,
      "cumulative_pos_deviation": 0.1636075326872971,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 5,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.08862409948517576,
        "cumulative_pos_drift": 0.1636075326872971,
        "actual_drift": {
          "final_drift": 0.008862409948517577,
          "max_drift": 0.06524115877291808,
          "drift_consistency": 0.0541687125358046,
          "drift_trajectory": [
            0.02106768689608077,
            0.02427939752700652,
            0.022034632199305283,
            0.023281775392425232,
            0.06524115877291808,
            0.04814761500352591,
            0.04064777502129013,
            0.03935858635079701,
            0.02381737263910919,
            0.008862409948517577
          ]
        }
      }
    },
    {
      "episode_id": 3,
      "original_id": 6,
      "num_frames": 10,
      "avg_deviation": 0.5746219729545223,
      "std_deviation": 0.5061494829785037,
      "avg_pos_deviation": 0.02071269074036017,
      "avg_rot_deviation": 0.059007321429848436,
      "avg_grip_deviation": 0.49490196078431375,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.746219729545222,
      "cumulative_pos_deviation": 0.2071269074036017,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 7,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.9432984267675378,
        "cumulative_pos_drift": 0.2071269074036017,
        "actual_drift": {
          "final_drift": 0.09432984267675379,
          "max_drift": 0.09432984267675379,
          "drift_consistency": 0.45542049222383446,
          "drift_trajectory": [
            0.02164859091580234,
            0.01023280907420371,
            0.003245315440021797,
            0.017951968588121783,
            0.018950582251234773,
            0.040262894233348244,
            0.05435749544901509,
            0.07386928697174565,
            0.07423493660671646,
            0.09432984267675379
          ]
        }
      }
    },
    {
      "episode_id": 4,
      "original_id": 7,
      "num_frames": 10,
      "avg_deviation": 0.8674226311073271,
      "std_deviation": 0.4085817005958711,
      "avg_pos_deviation": 0.020269985169301712,
      "avg_rot_deviation": 0.05028990083998627,
      "avg_grip_deviation": 0.7968627450980392,
      "deviation_rate": 0.8,
      "cumulative_deviation": 8.674226311073273,
      "cumulative_pos_deviation": 0.20269985169301713,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.4677212988522204,
        "cumulative_pos_drift": 0.20269985169301713,
        "actual_drift": {
          "final_drift": 0.046772129885222044,
          "max_drift": 0.046772129885222044,
          "drift_consistency": 0.23074574148480198,
          "drift_trajectory": [
            0.025323268940629546,
            0.02254677705020162,
            0.029894982575482294,
            0.008309295294914556,
            0.016895044438624055,
            0.022718039866147788,
            0.024782333026777126,
            0.03450010154324565,
            0.035385187045679535,
            0.046772129885222044
          ]
        }
      }
    },
    {
      "episode_id": 5,
      "original_id": 8,
      "num_frames": 10,
      "avg_deviation": 0.5643953510472043,
      "std_deviation": 0.5251234137074281,
      "avg_pos_deviation": 0.021802917553325685,
      "avg_rot_deviation": 0.044553217807604246,
      "avg_grip_deviation": 0.4980392156862745,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.643953510472045,
      "cumulative_pos_deviation": 0.21802917553325682,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 4,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 1.029358688752588,
        "cumulative_pos_drift": 0.21802917553325682,
        "actual_drift": {
          "final_drift": 0.10293586887525881,
          "max_drift": 0.12867996808960683,
          "drift_consistency": 0.4721196780307085,
          "drift_trajectory": [
            0.013246970785371452,
            0.01593509595343829,
            0.04597597715882457,
            0.08462842612357037,
            0.09286485865588184,
            0.09583910159058469,
            0.10879951800769704,
            0.12093090198299689,
            0.12867996808960683,
            0.10293586887525881
          ]
        }
      }
    },
    {
      "episode_id": 6,
      "original_id": 14,
      "num_frames": 10,
      "avg_deviation": 0.5684488283023731,
      "std_deviation": 0.513769892798052,
      "avg_pos_deviation": 0.019756485963609457,
      "avg_rot_deviation": 0.05065312665248911,
      "avg_grip_deviation": 0.4980392156862745,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.6844882830237315,
      "cumulative_pos_deviation": 0.19756485963609458,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 10,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.6265005302962403,
        "cumulative_pos_drift": 0.19756485963609458,
        "actual_drift": {
          "final_drift": 0.06265005302962404,
          "max_drift": 0.06265005302962404,
          "drift_consistency": 0.3171113019486843,
          "drift_trajectory": [
            0.006891022927954822,
            0.022505700714315704,
            0.021870643522809523,
            0.0286644641116761,
            0.02661040229613587,
            0.035201861601408736,
            0.04313659184473662,
            0.013753170206011519,
            0.037706704305845586,
            0.06265005302962404
          ]
        }
      }
    },
    {
      "episode_id": 7,
      "original_id": 15,
      "num_frames": 10,
      "avg_deviation": 0.28712306655186526,
      "std_deviation": 0.39594374549349326,
      "avg_pos_deviation": 0.02925937198454967,
      "avg_rot_deviation": 0.05864800829280583,
      "avg_grip_deviation": 0.1992156862745098,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.8712306655186532,
      "cumulative_pos_deviation": 0.2925937198454967,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 3,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 0.0
        },
        "tfp_score": 1.0170134231142856,
        "cumulative_pos_drift": 0.2925937198454967,
        "actual_drift": {
          "final_drift": 0.10170134231142856,
          "max_drift": 0.14367398475113388,
          "drift_consistency": 0.3475855151275172,
          "drift_trajectory": [
            0.016168190130826526,
            0.04742515368317788,
            0.0687558835538021,
            0.11936968527450756,
            0.12958513305162525,
            0.14367398475113388,
            0.12944468763854936,
            0.13151910820047363,
            0.10136735015178625,
            0.10170134231142856
          ]
        }
      }
    },
    {
      "episode_id": 8,
      "original_id": 17,
      "num_frames": 10,
      "avg_deviation": 0.8998124123787026,
      "std_deviation": 0.37651557675698366,
      "avg_pos_deviation": 0.024365875277637818,
      "avg_rot_deviation": 0.08250536063047645,
      "avg_grip_deviation": 0.7929411764705883,
      "deviation_rate": 0.8,
      "cumulative_deviation": 8.998124123787026,
      "cumulative_pos_deviation": 0.24365875277637816,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 7,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 1.1591672394595924,
        "cumulative_pos_drift": 0.24365875277637816,
        "actual_drift": {
          "final_drift": 0.11591672394595925,
          "max_drift": 0.11591672394595925,
          "drift_consistency": 0.47573386085171804,
          "drift_trajectory": [
            0.01614377199303964,
            0.028179285496901015,
            0.028817741430337575,
            0.023765365131894135,
            0.03126175845421248,
            0.047105023933965026,
            0.06757058620133011,
            0.08111703651573274,
            0.11130941323077191,
            0.11591672394595925
          ]
        }
      }
    },
    {
      "episode_id": 9,
      "original_id": 27,
      "num_frames": 10,
      "avg_deviation": 0.5716569001713523,
      "std_deviation": 0.494931552157843,
      "avg_pos_deviation": 0.02035218723190162,
      "avg_rot_deviation": 0.053265497253176045,
      "avg_grip_deviation": 0.4980392156862745,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.716569001713522,
      "cumulative_pos_deviation": 0.20352187231901622,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 8,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.5163614248358658,
        "cumulative_pos_drift": 0.20352187231901622,
        "actual_drift": {
          "final_drift": 0.051636142483586576,
          "max_drift": 0.051636142483586576,
          "drift_consistency": 0.253712976193135,
          "drift_trajectory": [
            0.010749639609601961,
            0.022507932290750314,
            0.04059102332157633,
            0.032858320251390655,
            0.01790412853440035,
            0.03474075811419038,
            0.048322993127384355,
            0.051359080716865624,
            0.05031173378403895,
            0.051636142483586576
          ]
        }
      }
    },
    {
      "episode_id": 10,
      "original_id": 34,
      "num_frames": 10,
      "avg_deviation": 0.5802199302505867,
      "std_deviation": 0.5051840070650087,
      "avg_pos_deviation": 0.018399620294225677,
      "avg_rot_deviation": 0.062212466819106096,
      "avg_grip_deviation": 0.4996078431372549,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.8021993025058665,
      "cumulative_pos_deviation": 0.18399620294225677,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 3,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.8573018504919518,
        "cumulative_pos_drift": 0.18399620294225677,
        "actual_drift": {
          "final_drift": 0.08573018504919519,
          "max_drift": 0.08573018504919519,
          "drift_consistency": 0.4659345085330629,
          "drift_trajectory": [
            0.018689918167847215,
            0.024355664188988255,
            0.06163835215744735,
            0.06145018357789841,
            0.058052680424147456,
            0.058052680424147456,
            0.06160403573785041,
            0.06970435603665422,
            0.06968697364667796,
            0.08573018504919519
          ]
        }
      }
    },
    {
      "episode_id": 11,
      "original_id": 37,
      "num_frames": 10,
      "avg_deviation": 0.4739848132733456,
      "std_deviation": 0.47220042857538685,
      "avg_pos_deviation": 0.02234122418649042,
      "avg_rot_deviation": 0.0594867263417571,
      "avg_grip_deviation": 0.3921568627450981,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.739848132733456,
      "cumulative_pos_deviation": 0.22341224186490422,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 3,
        "sdr": {
          "3": 0.625,
          "5": 0.3333333333333333,
          "10": 1.0
        },
        "tfp_score": 0.6609747127858864,
        "cumulative_pos_drift": 0.22341224186490422,
        "actual_drift": {
          "final_drift": 0.06609747127858864,
          "max_drift": 0.11526596094054856,
          "drift_consistency": 0.29585428161100724,
          "drift_trajectory": [
            0.0,
            0.0,
            0.08278440467682195,
            0.11526596094054856,
            0.10274055951286537,
            0.1034303646434274,
            0.10565789553702219,
            0.08526402779754919,
            0.06848700537957843,
            0.06609747127858864
          ]
        }
      }
    },
    {
      "episode_id": 12,
      "original_id": 40,
      "num_frames": 10,
      "avg_deviation": 0.4903274070917011,
      "std_deviation": 0.5082136432966057,
      "avg_pos_deviation": 0.018776471817720644,
      "avg_rot_deviation": 0.06919799409750985,
      "avg_grip_deviation": 0.4023529411764706,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.903274070917011,
      "cumulative_pos_deviation": 0.18776471817720644,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 7,
        "sdr": {
          "3": 0.875,
          "5": 0.6666666666666666,
          "10": 1.0
        },
        "tfp_score": 0.6136857577925762,
        "cumulative_pos_drift": 0.18776471817720644,
        "actual_drift": {
          "final_drift": 0.06136857577925762,
          "max_drift": 0.06136857577925762,
          "drift_consistency": 0.32683761415157747,
          "drift_trajectory": [
            0.005879574737805382,
            0.012315279956538219,
            0.028564510985550975,
            0.03421488943890122,
            0.025511513832908454,
            0.021124244926124386,
            0.05277240255661137,
            0.056171993901550914,
            0.05926458572036992,
            0.06136857577925762
          ]
        }
      }
    },
    {
      "episode_id": 13,
      "original_id": 47,
      "num_frames": 10,
      "avg_deviation": 0.5709487463985021,
      "std_deviation": 0.4963781749881086,
      "avg_pos_deviation": 0.02345757188946422,
      "avg_rot_deviation": 0.05729509607766533,
      "avg_grip_deviation": 0.4901960784313726,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.709487463985021,
      "cumulative_pos_deviation": 0.23457571889464218,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 3,
        "sdr": {
          "3": 1.0,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 1.053700998756799,
        "cumulative_pos_drift": 0.23457571889464218,
        "actual_drift": {
          "final_drift": 0.1053700998756799,
          "max_drift": 0.14811684854380305,
          "drift_consistency": 0.44919438329020833,
          "drift_trajectory": [
            0.021337628267450334,
            0.03030422014564817,
            0.050344198764413935,
            0.0772887791738785,
            0.1130309500659661,
            0.1469455809399094,
            0.14811684854380305,
            0.1279679215963217,
            0.13070320684289613,
            0.1053700998756799
          ]
        }
      }
    },
    {
      "episode_id": 14,
      "original_id": 49,
      "num_frames": 10,
      "avg_deviation": 0.46334636608032326,
      "std_deviation": 0.4898561009107035,
      "avg_pos_deviation": 0.01929983381796436,
      "avg_rot_deviation": 0.04561515971333934,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.6334636608032325,
      "cumulative_pos_deviation": 0.19299833817964362,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 6,
        "sdr": {
          "3": 0.75,
          "5": 0.6666666666666666,
          "10": 1.0
        },
        "tfp_score": 0.40902118926272996,
        "cumulative_pos_drift": 0.19299833817964362,
        "actual_drift": {
          "final_drift": 0.040902118926273,
          "max_drift": 0.057428786355552104,
          "drift_consistency": 0.21192989117296043,
          "drift_trajectory": [
            0.026396988547888547,
            0.01500393710970705,
            0.0196115210314896,
            0.02269642192476204,
            0.04306238177255678,
            0.057428786355552104,
            0.03393496807297696,
            0.02684487880367331,
            0.035606833578615056,
            0.040902118926273
          ]
        }
      }
    }
  ]
}