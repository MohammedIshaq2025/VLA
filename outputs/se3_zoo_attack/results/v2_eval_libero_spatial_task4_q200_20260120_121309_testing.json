{
  "run_id": "v2_eval_libero_spatial_task4_q200_20260120_121309",
  "timestamp": "20260120_122228",
  "direction": "Direction 2: Deviation Analysis for Closed-Loop Attack",
  "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task4_q200_20260120_121309_patch.npy",
  "patch_position": [
    48,
    48
  ],
  "args": {
    "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task4_q200_20260120_121309_patch.npy",
    "suite": "libero_spatial",
    "task_id": 4,
    "train_ratio": 0.7,
    "frames_per_episode": 10,
    "deviation_threshold": 0.3,
    "drift_threshold": 0.05,
    "task_scale": 0.1,
    "sdr_windows": "3,5,10",
    "patch_x": 48,
    "patch_y": 48,
    "model_path": "/data1/ma1/Ishaq/ump-vla/checkpoints/openvla-7b",
    "device": "cuda:0",
    "output_dir": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack",
    "seed": 42
  },
  "task_info": {
    "task_name": "pick_up_the_black_bowl_next_to_the_plate_and_place_it_on_the_plate",
    "instruction": "pick up the black bowl in the top drawer of the wooden cabinet and place it on the plate",
    "total_episodes": 50,
    "test_episodes": 15,
    "test_indices": [
      1,
      2,
      5,
      6,
      7,
      8,
      14,
      15,
      17,
      27,
      34,
      37,
      40,
      47,
      49
    ],
    "frames_per_episode": 10,
    "total_frames": 150
  },
  "testing_time_seconds": 53.902581453323364,
  "metrics": {
    "deviation": {
      "average": 0.5652097827514774,
      "std": 0.4909412265126184,
      "max": 1.299145707362712,
      "min": 0.0,
      "rate": 0.49333333333333335
    },
    "components": {
      "position": 0.01698527092111275,
      "rotation": 0.05991078634016863,
      "gripper": 0.4883137254901961
    },
    "cumulative": {
      "avg_per_episode": 5.652097827514774,
      "total": 84.7814674127216,
      "total_position": 2.5477906381669118,
      "projected_100_frames": 1.6985270921112745
    },
    "baseline": {
      "avg_gt_error_clean": 1.946674243249757,
      "avg_gt_error_patched": 1.9790555054639636,
      "error_change": 0.03238126221420656
    },
    "trajectory": {
      "cdt": {
        "success_rate": 0.7333333333333333,
        "n_successes": 11,
        "n_episodes": 15
      },
      "ttf": {
        "mean_frames": 6.416666666666667,
        "min_frames": 2,
        "max_frames": 10,
        "success_rate": 0.8
      },
      "sdr": {
        "3": 0.85,
        "5": 0.7333333333333335,
        "10": 0.9333333333333333
      },
      "tfp": {
        "mean_score": 0.7045347992767446,
        "max_score": 1.4809701676115365,
        "above_1_rate": 0.2
      },
      "actual_drift": {
        "mean": 0.07045347992767445,
        "max": 0.14809701676115367,
        "consistency_mean": 0.41097017201441394
      },
      "legacy_cumulative_drift": {
        "mean": 0.16985270921112744,
        "max": 0.22610880441043
      }
    }
  },
  "episode_metrics": [
    {
      "episode_id": 0,
      "original_id": 1,
      "num_frames": 10,
      "avg_deviation": 0.36465500964790476,
      "std_deviation": 0.44867621428899673,
      "avg_pos_deviation": 0.020212796003946546,
      "avg_rot_deviation": 0.04718731168317393,
      "avg_grip_deviation": 0.2972549019607843,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.646550096479048,
      "cumulative_pos_deviation": 0.20212796003946545,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 6,
        "sdr": {
          "3": 0.875,
          "5": 0.6666666666666666,
          "10": 1.0
        },
        "tfp_score": 0.3708754007884672,
        "cumulative_pos_drift": 0.20212796003946545,
        "actual_drift": {
          "final_drift": 0.03708754007884672,
          "max_drift": 0.05152439685262288,
          "drift_consistency": 0.18348544276977297,
          "drift_trajectory": [
            0.042088111032167565,
            0.04374752216029145,
            0.03401824996567033,
            0.03401824996567033,
            0.030912609362631335,
            0.05152439685262288,
            0.05071359342698095,
            0.02939773305043316,
            0.03914080366840672,
            0.03708754007884672
          ]
        }
      }
    },
    {
      "episode_id": 1,
      "original_id": 2,
      "num_frames": 10,
      "avg_deviation": 0.288058993290693,
      "std_deviation": 0.40884824800555575,
      "avg_pos_deviation": 0.019442934218289156,
      "avg_rot_deviation": 0.062341549268482246,
      "avg_grip_deviation": 0.20627450980392154,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.88058993290693,
      "cumulative_pos_deviation": 0.19442934218289157,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 6,
        "sdr": {
          "3": 0.375,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 1.1312491690835587,
        "cumulative_pos_drift": 0.19442934218289157,
        "actual_drift": {
          "final_drift": 0.11312491690835587,
          "max_drift": 0.12362115496002003,
          "drift_consistency": 0.5818304470918773,
          "drift_trajectory": [
            0.006153396021898408,
            0.046293217673465864,
            0.04945544103944972,
            0.044816858303220644,
            0.04568994011030326,
            0.07699415583485941,
            0.10891871135666657,
            0.11236880348518515,
            0.12362115496002003,
            0.11312491690835587
          ]
        }
      }
    },
    {
      "episode_id": 2,
      "original_id": 5,
      "num_frames": 10,
      "avg_deviation": 0.4600087952603936,
      "std_deviation": 0.48672583303705197,
      "avg_pos_deviation": 0.015136464035521121,
      "avg_rot_deviation": 0.04644095867585288,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.6000879526039355,
      "cumulative_pos_deviation": 0.15136464035521122,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 7,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.5595426902368019,
        "cumulative_pos_drift": 0.15136464035521122,
        "actual_drift": {
          "final_drift": 0.05595426902368019,
          "max_drift": 0.06567301749862975,
          "drift_consistency": 0.36966536699533814,
          "drift_trajectory": [
            0.0008109332482405383,
            0.006759159108835923,
            0.0048576581956826645,
            0.007407623531271099,
            0.033538621755060366,
            0.04019224788711813,
            0.05133081622223419,
            0.06567301749862975,
            0.06343149846485167,
            0.05595426902368019
          ]
        }
      }
    },
    {
      "episode_id": 3,
      "original_id": 6,
      "num_frames": 10,
      "avg_deviation": 0.7895588912836764,
      "std_deviation": 0.4658355899416805,
      "avg_pos_deviation": 0.015267470938907606,
      "avg_rot_deviation": 0.07860514583496474,
      "avg_grip_deviation": 0.6956862745098039,
      "deviation_rate": 0.7,
      "cumulative_deviation": 7.895588912836764,
      "cumulative_pos_deviation": 0.1526747093890761,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.4143571899421633,
        "cumulative_pos_drift": 0.1526747093890761,
        "actual_drift": {
          "final_drift": 0.04143571899421633,
          "max_drift": 0.04284474001512895,
          "drift_consistency": 0.27139869102114794,
          "drift_trajectory": [
            0.020438629569054817,
            0.0404513355024064,
            0.03261850928455294,
            0.034322829098833,
            0.01839742910913389,
            0.018580382949511462,
            0.029256161469679083,
            0.04284474001512895,
            0.036099190761983216,
            0.04143571899421633
          ]
        }
      }
    },
    {
      "episode_id": 4,
      "original_id": 7,
      "num_frames": 10,
      "avg_deviation": 0.6756845600474317,
      "std_deviation": 0.4605947423056881,
      "avg_pos_deviation": 0.020530971551904635,
      "avg_rot_deviation": 0.05829084339748777,
      "avg_grip_deviation": 0.5968627450980393,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.756845600474318,
      "cumulative_pos_deviation": 0.20530971551904634,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 8,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.5946639576627113,
        "cumulative_pos_drift": 0.20530971551904634,
        "actual_drift": {
          "final_drift": 0.05946639576627113,
          "max_drift": 0.06279889485732687,
          "drift_consistency": 0.28964237137784543,
          "drift_trajectory": [
            0.01871516713776038,
            0.003284679680121104,
            0.015782840877786874,
            0.021400778863566648,
            0.035244422747892315,
            0.037567004351631426,
            0.042494822765142194,
            0.06279889485732687,
            0.04517291370209345,
            0.05946639576627113
          ]
        }
      }
    },
    {
      "episode_id": 5,
      "original_id": 8,
      "num_frames": 10,
      "avg_deviation": 0.3596555667042304,
      "std_deviation": 0.4594244943894956,
      "avg_pos_deviation": 0.013463432655539,
      "avg_rot_deviation": 0.04423134973496589,
      "avg_grip_deviation": 0.30196078431372547,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.5965556670423036,
      "cumulative_pos_deviation": 0.13463432655539,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 10,
        "sdr": {
          "3": 0.75,
          "5": 0.3333333333333333,
          "10": 1.0
        },
        "tfp_score": 0.58596402406049,
        "cumulative_pos_drift": 0.13463432655539,
        "actual_drift": {
          "final_drift": 0.058596402406049,
          "max_drift": 0.058596402406049,
          "drift_consistency": 0.4352262870322224,
          "drift_trajectory": [
            0.0048613954594247675,
            0.00463388306301307,
            0.022851795064834066,
            0.02007977414375055,
            0.01376406724071777,
            0.025793863968597033,
            0.025793863968597033,
            0.02236804240187163,
            0.0422461944125611,
            0.058596402406049
          ]
        }
      }
    },
    {
      "episode_id": 6,
      "original_id": 14,
      "num_frames": 10,
      "avg_deviation": 0.4892793534047876,
      "std_deviation": 0.48410305834377315,
      "avg_pos_deviation": 0.01996191154994722,
      "avg_rot_deviation": 0.07088606930582081,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.892793534047875,
      "cumulative_pos_deviation": 0.1996191154994722,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 2,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.6358227130243751,
        "cumulative_pos_drift": 0.1996191154994722,
        "actual_drift": {
          "final_drift": 0.06358227130243752,
          "max_drift": 0.07260880178754463,
          "drift_consistency": 0.3185179333059729,
          "drift_trajectory": [
            0.04287117055672056,
            0.053716171060280433,
            0.06062356594986359,
            0.048592620201232714,
            0.050268135379401516,
            0.05514475639405139,
            0.0651188663791438,
            0.060460880396465126,
            0.07260880178754463,
            0.06358227130243752
          ]
        }
      }
    },
    {
      "episode_id": 7,
      "original_id": 15,
      "num_frames": 10,
      "avg_deviation": 0.6705234089384107,
      "std_deviation": 0.4632518159764713,
      "avg_pos_deviation": 0.012856762190221197,
      "avg_rot_deviation": 0.05609801929720902,
      "avg_grip_deviation": 0.6015686274509804,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.705234089384106,
      "cumulative_pos_deviation": 0.128567621902212,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 4,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.6364137485613558,
        "cumulative_pos_drift": 0.128567621902212,
        "actual_drift": {
          "final_drift": 0.06364137485613558,
          "max_drift": 0.0716071212743745,
          "drift_consistency": 0.4950030883709591,
          "drift_trajectory": [
            0.03812293888071133,
            0.033699061791079905,
            0.04776641779445278,
            0.05029974064378207,
            0.06304592184033472,
            0.06493951022449226,
            0.06493951022449226,
            0.07034734576835906,
            0.0716071212743745,
            0.06364137485613558
          ]
        }
      }
    },
    {
      "episode_id": 8,
      "original_id": 17,
      "num_frames": 10,
      "avg_deviation": 0.658368666804779,
      "std_deviation": 0.47631309759150015,
      "avg_pos_deviation": 0.01753083470150333,
      "avg_rot_deviation": 0.04711234190719723,
      "avg_grip_deviation": 0.5937254901960785,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.58368666804779,
      "cumulative_pos_deviation": 0.1753083470150333,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.9645549045987296,
        "cumulative_pos_drift": 0.1753083470150333,
        "actual_drift": {
          "final_drift": 0.09645549045987296,
          "max_drift": 0.09645549045987296,
          "drift_consistency": 0.5502047483771785,
          "drift_trajectory": [
            0.03637553865418715,
            0.03806780503218517,
            0.04065753910105594,
            0.048060848430166656,
            0.06500128745285459,
            0.05868310853192232,
            0.05787309439305885,
            0.09350013990473925,
            0.08830646696446919,
            0.09645549045987296
          ]
        }
      }
    },
    {
      "episode_id": 9,
      "original_id": 27,
      "num_frames": 10,
      "avg_deviation": 0.5830734144533787,
      "std_deviation": 0.48744395253272227,
      "avg_pos_deviation": 0.01727176662915856,
      "avg_rot_deviation": 0.0716840007653966,
      "avg_grip_deviation": 0.49411764705882355,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.830734144533787,
      "cumulative_pos_deviation": 0.17271766629158558,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.75,
          "5": 0.6666666666666666,
          "10": 1.0
        },
        "tfp_score": 1.4809701676115365,
        "cumulative_pos_drift": 0.17271766629158558,
        "actual_drift": {
          "final_drift": 0.14809701676115367,
          "max_drift": 0.14809701676115367,
          "drift_consistency": 0.8574514198021816,
          "drift_trajectory": [
            0.0,
            0.009455540452183834,
            0.0285555183144125,
            0.0285555183144125,
            0.0746566765136212,
            0.08301146137326168,
            0.08801097280076038,
            0.10493425643322495,
            0.12359268065977501,
            0.14809701676115367
          ]
        }
      }
    },
    {
      "episode_id": 10,
      "original_id": 34,
      "num_frames": 10,
      "avg_deviation": 0.6982981499949956,
      "std_deviation": 0.4876358775862096,
      "avg_pos_deviation": 0.022610880441043,
      "avg_rot_deviation": 0.08431472053434472,
      "avg_grip_deviation": 0.5913725490196079,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.9829814999499575,
      "cumulative_pos_deviation": 0.22610880441043,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 8,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.9121886178679692,
        "cumulative_pos_drift": 0.22610880441043,
        "actual_drift": {
          "final_drift": 0.09121886178679693,
          "max_drift": 0.09121886178679693,
          "drift_consistency": 0.40342903935278507,
          "drift_trajectory": [
            0.01564818018356802,
            0.03599829488938193,
            0.03191566101261081,
            0.041455345108143776,
            0.026604676202375444,
            0.021301160002713482,
            0.03568503815319532,
            0.08033660393132652,
            0.08173503507419563,
            0.09121886178679693
          ]
        }
      }
    },
    {
      "episode_id": 11,
      "original_id": 37,
      "num_frames": 10,
      "avg_deviation": 0.6952054196644086,
      "std_deviation": 0.43911870550841636,
      "avg_pos_deviation": 0.015262979802850452,
      "avg_rot_deviation": 0.039158126136067964,
      "avg_grip_deviation": 0.6407843137254903,
      "deviation_rate": 0.7,
      "cumulative_deviation": 6.952054196644086,
      "cumulative_pos_deviation": 0.15262979802850454,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.27912139275163494,
        "cumulative_pos_drift": 0.15262979802850454,
        "actual_drift": {
          "final_drift": 0.027912139275163495,
          "max_drift": 0.035660825978508635,
          "drift_consistency": 0.18287475844790904,
          "drift_trajectory": [
            0.01972097478232087,
            0.018761860046071045,
            0.025574666322523996,
            0.018024327815484766,
            0.01751942386751373,
            0.019990294506129498,
            0.022145045046952277,
            0.035660825978508635,
            0.027613312541130284,
            0.027912139275163495
          ]
        }
      }
    },
    {
      "episode_id": 12,
      "original_id": 40,
      "num_frames": 10,
      "avg_deviation": 0.6858978305714395,
      "std_deviation": 0.47136453851634774,
      "avg_pos_deviation": 0.02178212677659286,
      "avg_rot_deviation": 0.06882158614778776,
      "avg_grip_deviation": 0.5952941176470589,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.858978305714395,
      "cumulative_pos_deviation": 0.21782126776592858,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 6,
        "sdr": {
          "3": 0.875,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 1.1521893681587803,
        "cumulative_pos_drift": 0.21782126776592858,
        "actual_drift": {
          "final_drift": 0.11521893681587803,
          "max_drift": 0.11521893681587803,
          "drift_consistency": 0.5289608893934258,
          "drift_trajectory": [
            0.003656810433105312,
            0.02474810868556056,
            0.03942532261270112,
            0.03616216543701003,
            0.0495313998191595,
            0.07857431093907531,
            0.10678549736814229,
            0.0820466676731605,
            0.08943187372259076,
            0.11521893681587803
          ]
        }
      }
    },
    {
      "episode_id": 13,
      "original_id": 47,
      "num_frames": 10,
      "avg_deviation": 0.5913949144711994,
      "std_deviation": 0.4990557399137798,
      "avg_pos_deviation": 0.009976061105831843,
      "avg_rot_deviation": 0.066909049443799,
      "avg_grip_deviation": 0.5145098039215686,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.913949144711994,
      "cumulative_pos_deviation": 0.09976061105831843,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.875,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.25308556538767585,
        "cumulative_pos_drift": 0.09976061105831843,
        "actual_drift": {
          "final_drift": 0.025308556538767586,
          "max_drift": 0.028550783690207443,
          "drift_consistency": 0.2536928526534796,
          "drift_trajectory": [
            0.006310995806904714,
            0.028550783690207443,
            0.027756637127540465,
            0.027756637127540465,
            0.026572253328799634,
            0.019819153480971238,
            0.01592362024716544,
            0.017203892429210204,
            0.021566184007688373,
            0.025308556538767586
          ]
        }
      }
    },
    {
      "episode_id": 14,
      "original_id": 49,
      "num_frames": 10,
      "avg_deviation": 0.46848376673443315,
      "std_deviation": 0.4863183391928954,
      "avg_pos_deviation": 0.013471671215434683,
      "avg_rot_deviation": 0.0565807229699789,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.684837667344331,
      "cumulative_pos_deviation": 0.13471671215434683,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 10,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.5970230794149174,
        "cumulative_pos_drift": 0.13471671215434683,
        "actual_drift": {
          "final_drift": 0.05970230794149174,
          "max_drift": 0.05970230794149174,
          "drift_consistency": 0.4431692442241133,
          "drift_trajectory": [
            0.013248099667133292,
            0.012920917095481108,
            0.015020214634208023,
            0.02150185103155217,
            0.03224737072539772,
            0.028496116240236992,
            0.03817806637174197,
            0.027249097307782025,
            0.0472168352961618,
            0.05970230794149174
          ]
        }
      }
    }
  ]
}