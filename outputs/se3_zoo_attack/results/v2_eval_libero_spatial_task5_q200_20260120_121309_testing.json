{
  "run_id": "v2_eval_libero_spatial_task5_q200_20260120_121309",
  "timestamp": "20260120_122228",
  "direction": "Direction 2: Deviation Analysis for Closed-Loop Attack",
  "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task5_q200_20260120_121309_patch.npy",
  "patch_position": [
    48,
    48
  ],
  "args": {
    "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task5_q200_20260120_121309_patch.npy",
    "suite": "libero_spatial",
    "task_id": 5,
    "train_ratio": 0.7,
    "frames_per_episode": 10,
    "deviation_threshold": 0.3,
    "drift_threshold": 0.05,
    "task_scale": 0.1,
    "sdr_windows": "3,5,10",
    "patch_x": 48,
    "patch_y": 48,
    "model_path": "/data1/ma1/Ishaq/ump-vla/checkpoints/openvla-7b",
    "device": "cuda:0",
    "output_dir": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack",
    "seed": 42
  },
  "task_info": {
    "task_name": "pick_up_the_black_bowl_next_to_the_ramekin_and_place_it_on_the_plate",
    "instruction": "pick up the black bowl on the ramekin and place it on the plate",
    "total_episodes": 50,
    "test_episodes": 15,
    "test_indices": [
      1,
      2,
      5,
      6,
      7,
      8,
      14,
      15,
      17,
      27,
      34,
      37,
      40,
      47,
      49
    ],
    "frames_per_episode": 10,
    "total_frames": 150
  },
  "testing_time_seconds": 53.99747180938721,
  "metrics": {
    "deviation": {
      "average": 0.34805270962576973,
      "std": 0.44305145522515915,
      "max": 1.2194574003367114,
      "min": 0.0,
      "rate": 0.2866666666666667
    },
    "components": {
      "position": 0.015015537669732935,
      "rotation": 0.06004370790374918,
      "gripper": 0.2729934640522876
    },
    "cumulative": {
      "avg_per_episode": 3.4805270962576973,
      "total": 52.20790644386546,
      "total_position": 2.25233065045994,
      "projected_100_frames": 1.5015537669732932
    },
    "baseline": {
      "avg_gt_error_clean": 1.8440241899988947,
      "avg_gt_error_patched": 1.8954569588323162,
      "error_change": 0.051432768833421516
    },
    "trajectory": {
      "cdt": {
        "success_rate": 0.6,
        "n_successes": 9,
        "n_episodes": 15
      },
      "ttf": {
        "mean_frames": 5.454545454545454,
        "min_frames": 2,
        "max_frames": 10,
        "success_rate": 0.7333333333333333
      },
      "sdr": {
        "3": 0.5416666666666666,
        "5": 0.4222222222222222,
        "10": 0.4666666666666667
      },
      "tfp": {
        "mean_score": 0.601579462090874,
        "max_score": 1.600339587087616,
        "above_1_rate": 0.13333333333333333
      },
      "actual_drift": {
        "mean": 0.06015794620908741,
        "max": 0.1600339587087616,
        "consistency_mean": 0.38875902198238105
      },
      "legacy_cumulative_drift": {
        "mean": 0.15015537669732934,
        "max": 0.2484650796933019
      }
    }
  },
  "episode_metrics": [
    {
      "episode_id": 0,
      "original_id": 1,
      "num_frames": 10,
      "avg_deviation": 0.5584472288928999,
      "std_deviation": 0.4945211602156822,
      "avg_pos_deviation": 0.018405603605442807,
      "avg_rot_deviation": 0.043571037052162934,
      "avg_grip_deviation": 0.4964705882352941,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.584472288929,
      "cumulative_pos_deviation": 0.18405603605442805,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 3,
        "sdr": {
          "3": 0.875,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 1.1627973148991533,
        "cumulative_pos_drift": 0.18405603605442805,
        "actual_drift": {
          "final_drift": 0.11627973148991534,
          "max_drift": 0.11627973148991534,
          "drift_consistency": 0.6317626287349981,
          "drift_trajectory": [
            0.00041512599953707883,
            0.04813332683159164,
            0.061197208672219484,
            0.05867416168381178,
            0.07229375173828549,
            0.07347380428429272,
            0.07862824062347448,
            0.07969394823917086,
            0.11534523580156542,
            0.11627973148991534
          ]
        }
      }
    },
    {
      "episode_id": 1,
      "original_id": 2,
      "num_frames": 10,
      "avg_deviation": 0.43265407703852155,
      "std_deviation": 0.48986542746070133,
      "avg_pos_deviation": 0.011401423585232034,
      "avg_rot_deviation": 0.0659585358062307,
      "avg_grip_deviation": 0.35529411764705887,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.326540770385217,
      "cumulative_pos_deviation": 0.11401423585232033,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.75,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.32629504392758135,
        "cumulative_pos_drift": 0.11401423585232033,
        "actual_drift": {
          "final_drift": 0.032629504392758135,
          "max_drift": 0.035475288125238154,
          "drift_consistency": 0.2861879596609557,
          "drift_trajectory": [
            0.008580344457976464,
            0.009618985381309479,
            0.01435021615693536,
            0.017671547189755776,
            0.017671547189755776,
            0.017404543805665088,
            0.020695945298663896,
            0.020931860807564106,
            0.035475288125238154,
            0.032629504392758135
          ]
        }
      }
    },
    {
      "episode_id": 2,
      "original_id": 5,
      "num_frames": 10,
      "avg_deviation": 0.25732669499541416,
      "std_deviation": 0.3971399131527258,
      "avg_pos_deviation": 0.010496783660632907,
      "avg_rot_deviation": 0.04761422506027147,
      "avg_grip_deviation": 0.1992156862745098,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.5732669499541414,
      "cumulative_pos_deviation": 0.10496783660632907,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.5,
          "5": 0.6666666666666666,
          "10": 0.0
        },
        "tfp_score": 0.26220111628783027,
        "cumulative_pos_drift": 0.10496783660632907,
        "actual_drift": {
          "final_drift": 0.026220111628783026,
          "max_drift": 0.03833194249521785,
          "drift_consistency": 0.24979184080167724,
          "drift_trajectory": [
            0.007397856343441166,
            0.005656139447278962,
            0.009481723588330356,
            0.0028782791242732255,
            0.01169498051238499,
            0.006024500513084405,
            0.005429666568194621,
            0.03833194249521785,
            0.02943804786201914,
            0.026220111628783026
          ]
        }
      }
    },
    {
      "episode_id": 3,
      "original_id": 6,
      "num_frames": 10,
      "avg_deviation": 0.221464226710059,
      "std_deviation": 0.3331670565657599,
      "avg_pos_deviation": 0.01429922103713574,
      "avg_rot_deviation": 0.05971402528076643,
      "avg_grip_deviation": 0.14745098039215687,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.2146422671005905,
      "cumulative_pos_deviation": 0.14299221037135743,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.125,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 0.18178454009379008,
        "cumulative_pos_drift": 0.14299221037135743,
        "actual_drift": {
          "final_drift": 0.018178454009379008,
          "max_drift": 0.03135784167247464,
          "drift_consistency": 0.12712897220680064,
          "drift_trajectory": [
            0.019226923002052462,
            0.019677678092197393,
            0.026782268196887178,
            0.027396912972479565,
            0.02545928802867929,
            0.03135784167247464,
            0.019137825431997425,
            0.012093480311355057,
            0.012093480311355062,
            0.018178454009379008
          ]
        }
      }
    },
    {
      "episode_id": 4,
      "original_id": 7,
      "num_frames": 10,
      "avg_deviation": 0.15668571289848515,
      "std_deviation": 0.2778567810822722,
      "avg_pos_deviation": 0.013148327966445434,
      "avg_rot_deviation": 0.04785111042223576,
      "avg_grip_deviation": 0.09568627450980392,
      "deviation_rate": 0.1,
      "cumulative_deviation": 1.5668571289848516,
      "cumulative_pos_deviation": 0.13148327966445433,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 6,
        "sdr": {
          "3": 0.125,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 0.6408262861983686,
        "cumulative_pos_drift": 0.13148327966445433,
        "actual_drift": {
          "final_drift": 0.06408262861983686,
          "max_drift": 0.06408262861983686,
          "drift_consistency": 0.48738230373894575,
          "drift_trajectory": [
            0.013642741415324858,
            0.005839744428058613,
            0.02353438484395619,
            0.02670137480683829,
            0.04617326433391165,
            0.05385050594687187,
            0.054508409246508766,
            0.0602862710939986,
            0.06408262861983686,
            0.06408262861983686
          ]
        }
      }
    },
    {
      "episode_id": 5,
      "original_id": 8,
      "num_frames": 10,
      "avg_deviation": 0.38687257333115516,
      "std_deviation": 0.45717741964485525,
      "avg_pos_deviation": 0.024846507969330193,
      "avg_rot_deviation": 0.06477116340104067,
      "avg_grip_deviation": 0.2972549019607843,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.8687257333115523,
      "cumulative_pos_deviation": 0.2484650796933019,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 2,
        "sdr": {
          "3": 0.75,
          "5": 0.3333333333333333,
          "10": 1.0
        },
        "tfp_score": 1.600339587087616,
        "cumulative_pos_drift": 0.2484650796933019,
        "actual_drift": {
          "final_drift": 0.1600339587087616,
          "max_drift": 0.1600339587087616,
          "drift_consistency": 0.6440903183071026,
          "drift_trajectory": [
            0.03470973817798624,
            0.06375165822191564,
            0.1172339599133593,
            0.13276656136573736,
            0.13285682025126175,
            0.13313701519669024,
            0.1393661024627039,
            0.14721969355223133,
            0.15688528890219164,
            0.1600339587087616
          ]
        }
      }
    },
    {
      "episode_id": 6,
      "original_id": 14,
      "num_frames": 10,
      "avg_deviation": 0.5735700209733897,
      "std_deviation": 0.4931836798798449,
      "avg_pos_deviation": 0.015702255249048974,
      "avg_rot_deviation": 0.06924031474394854,
      "avg_grip_deviation": 0.4886274509803922,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.735700209733897,
      "cumulative_pos_deviation": 0.15702255249048974,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.5840677617344867,
        "cumulative_pos_drift": 0.15702255249048974,
        "actual_drift": {
          "final_drift": 0.05840677617344867,
          "max_drift": 0.0702720186693811,
          "drift_consistency": 0.37196422760573755,
          "drift_trajectory": [
            0.02156792806006444,
            0.014553817038926678,
            0.03788174447309868,
            0.04559085287262578,
            0.05565707917021478,
            0.0702720186693811,
            0.05575276093465464,
            0.05685706213531665,
            0.045649957421937414,
            0.05840677617344867
          ]
        }
      }
    },
    {
      "episode_id": 7,
      "original_id": 15,
      "num_frames": 10,
      "avg_deviation": 0.28054589806114205,
      "std_deviation": 0.40707434234960604,
      "avg_pos_deviation": 0.014449221335400466,
      "avg_rot_deviation": 0.07158687280417292,
      "avg_grip_deviation": 0.19450980392156864,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.8054589806114194,
      "cumulative_pos_deviation": 0.14449221335400467,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 7,
        "sdr": {
          "3": 0.625,
          "5": 0.5,
          "10": 0.0
        },
        "tfp_score": 0.5697960787789869,
        "cumulative_pos_drift": 0.14449221335400467,
        "actual_drift": {
          "final_drift": 0.056979607877898686,
          "max_drift": 0.0636482680199721,
          "drift_consistency": 0.39434376851063574,
          "drift_trajectory": [
            0.013129900826874619,
            0.04092956788045926,
            0.0418683295145368,
            0.04635156190477258,
            0.03808853495258408,
            0.03865373112483961,
            0.05612746328826361,
            0.0636482680199721,
            0.05785122634199944,
            0.056979607877898686
          ]
        }
      }
    },
    {
      "episode_id": 8,
      "original_id": 17,
      "num_frames": 10,
      "avg_deviation": 0.28067568709876867,
      "std_deviation": 0.4180386214747227,
      "avg_pos_deviation": 0.010462964975378148,
      "avg_rot_deviation": 0.07099703584888069,
      "avg_grip_deviation": 0.1992156862745098,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.8067568709876864,
      "cumulative_pos_deviation": 0.10462964975378147,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.5,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 0.32716504891936754,
        "cumulative_pos_drift": 0.10462964975378147,
        "actual_drift": {
          "final_drift": 0.032716504891936754,
          "max_drift": 0.03439586927531052,
          "drift_consistency": 0.3126886292942794,
          "drift_trajectory": [
            0.02416956566685855,
            0.03276862766459971,
            0.03006228768943407,
            0.02859407123288944,
            0.028521385018142748,
            0.025015304225034625,
            0.025015304225034625,
            0.019936107047096235,
            0.03439586927531052,
            0.032716504891936754
          ]
        }
      }
    },
    {
      "episode_id": 9,
      "original_id": 27,
      "num_frames": 10,
      "avg_deviation": 0.4570356631335408,
      "std_deviation": 0.47553804531490435,
      "avg_pos_deviation": 0.00965628300188288,
      "avg_rot_deviation": 0.048948007582638335,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.570356631335408,
      "cumulative_pos_deviation": 0.09656283001882879,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 8,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.4230766854247773,
        "cumulative_pos_drift": 0.09656283001882879,
        "actual_drift": {
          "final_drift": 0.04230766854247773,
          "max_drift": 0.05042681961309597,
          "drift_consistency": 0.4381361249754891,
          "drift_trajectory": [
            0.0026730824612122128,
            0.02215108159550082,
            0.03126834436026256,
            0.028521344687214865,
            0.028521344687214865,
            0.036365614662748756,
            0.038199729017725705,
            0.05042681961309597,
            0.042788898776885194,
            0.04230766854247773
          ]
        }
      }
    },
    {
      "episode_id": 10,
      "original_id": 34,
      "num_frames": 10,
      "avg_deviation": 0.18151478611053123,
      "std_deviation": 0.28652002402623056,
      "avg_pos_deviation": 0.017985262007243003,
      "avg_rot_deviation": 0.06078442606407255,
      "avg_grip_deviation": 0.10274509803921568,
      "deviation_rate": 0.1,
      "cumulative_deviation": 1.8151478611053125,
      "cumulative_pos_deviation": 0.17985262007243,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.125,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 0.5692419133126461,
        "cumulative_pos_drift": 0.17985262007243,
        "actual_drift": {
          "final_drift": 0.05692419133126461,
          "max_drift": 0.07216193074991178,
          "drift_consistency": 0.3165046366480167,
          "drift_trajectory": [
            0.010458023385802933,
            0.016403030399229124,
            0.03859736352680034,
            0.04536026053217265,
            0.06379548136359624,
            0.07216193074991178,
            0.0527163157702737,
            0.03956357076941288,
            0.05029789596854871,
            0.05692419133126461
          ]
        }
      }
    },
    {
      "episode_id": 11,
      "original_id": 37,
      "num_frames": 10,
      "avg_deviation": 0.2500123202218715,
      "std_deviation": 0.39158675894166595,
      "avg_pos_deviation": 0.014442412953078701,
      "avg_rot_deviation": 0.036354220994282996,
      "avg_grip_deviation": 0.1992156862745098,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.500123202218715,
      "cumulative_pos_deviation": 0.14442412953078704,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 10,
        "sdr": {
          "3": 0.375,
          "5": 0.3333333333333333,
          "10": 0.0
        },
        "tfp_score": 0.7848353271596203,
        "cumulative_pos_drift": 0.14442412953078704,
        "actual_drift": {
          "final_drift": 0.07848353271596203,
          "max_drift": 0.07848353271596203,
          "drift_consistency": 0.5434239246357541,
          "drift_trajectory": [
            0.008395532672543587,
            0.00112403320907835,
            0.00695392338738129,
            0.016518893632136093,
            0.016571957072077488,
            0.016571957072077488,
            0.04700115675927419,
            0.04082657508107144,
            0.04650335170904388,
            0.07848353271596203
          ]
        }
      }
    },
    {
      "episode_id": 12,
      "original_id": 40,
      "num_frames": 10,
      "avg_deviation": 0.20491775099816603,
      "std_deviation": 0.29992085349434167,
      "avg_pos_deviation": 0.021167613312474663,
      "avg_rot_deviation": 0.05982856905824041,
      "avg_grip_deviation": 0.12392156862745099,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.0491775099816603,
      "cumulative_pos_deviation": 0.21167613312474662,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 4,
        "sdr": {
          "3": 0.125,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 0.5982911653455389,
        "cumulative_pos_drift": 0.21167613312474662,
        "actual_drift": {
          "final_drift": 0.0598291165345539,
          "max_drift": 0.06799169117251136,
          "drift_consistency": 0.282644589283238,
          "drift_trajectory": [
            0.023917249516398693,
            0.02975985832169625,
            0.015203823073479127,
            0.05397907286884153,
            0.06799169117251136,
            0.06799169117251136,
            0.05764377331985843,
            0.058750267828662384,
            0.04510505528047193,
            0.0598291165345539
          ]
        }
      }
    },
    {
      "episode_id": 13,
      "original_id": 47,
      "num_frames": 10,
      "avg_deviation": 0.4896436533171925,
      "std_deviation": 0.5013010602694496,
      "avg_pos_deviation": 0.016853424750288514,
      "avg_rot_deviation": 0.0743588560178844,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.896436533171925,
      "cumulative_pos_deviation": 0.1685342475028852,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 7,
        "sdr": {
          "3": 1.0,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.3578787927579401,
        "cumulative_pos_drift": 0.1685342475028852,
        "actual_drift": {
          "final_drift": 0.035787879275794014,
          "max_drift": 0.0591879901792276,
          "drift_consistency": 0.2123478027912595,
          "drift_trajectory": [
            0.011852409574633288,
            0.0029305104933781663,
            0.046314302298791375,
            0.046314302298791375,
            0.04367674805580467,
            0.037573005978916954,
            0.057721830606178186,
            0.0591879901792276,
            0.0470937539212425,
            0.035787879275794014
          ]
        }
      }
    },
    {
      "episode_id": 14,
      "original_id": 49,
      "num_frames": 10,
      "avg_deviation": 0.48942435060540834,
      "std_deviation": 0.48469998992395397,
      "avg_pos_deviation": 0.011915759636979568,
      "avg_rot_deviation": 0.07907721841940907,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.894243506054083,
      "cumulative_pos_deviation": 0.11915759636979568,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 3,
        "sdr": {
          "3": 0.75,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.6350952694354078,
        "cumulative_pos_drift": 0.11915759636979568,
        "actual_drift": {
          "final_drift": 0.06350952694354078,
          "max_drift": 0.06350952694354078,
          "drift_consistency": 0.5329876025408254,
          "drift_trajectory": [
            0.002367774906807447,
            0.012692169043419455,
            0.05080843290918338,
            0.06344839758698677,
            0.053148632788906476,
            0.053148632788906476,
            0.053148632788906476,
            0.05883653289870028,
            0.06350952694354078,
            0.06350952694354078
          ]
        }
      }
    }
  ]
}