{
  "run_id": "v2_eval_libero_spatial_task6_q200_20260120_122234",
  "timestamp": "20260120_123144",
  "direction": "Direction 2: Deviation Analysis for Closed-Loop Attack",
  "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task6_q200_20260120_122234_patch.npy",
  "patch_position": [
    48,
    48
  ],
  "args": {
    "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task6_q200_20260120_122234_patch.npy",
    "suite": "libero_spatial",
    "task_id": 6,
    "train_ratio": 0.7,
    "frames_per_episode": 10,
    "deviation_threshold": 0.3,
    "drift_threshold": 0.05,
    "task_scale": 0.1,
    "sdr_windows": "3,5,10",
    "patch_x": 48,
    "patch_y": 48,
    "model_path": "/data1/ma1/Ishaq/ump-vla/checkpoints/openvla-7b",
    "device": "cuda:0",
    "output_dir": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack",
    "seed": 42
  },
  "task_info": {
    "task_name": "pick_up_the_black_bowl_on_the_cookie_box_and_place_it_on_the_plate",
    "instruction": "pick up the black bowl next to the cookie box and place it on the plate",
    "total_episodes": 50,
    "test_episodes": 15,
    "test_indices": [
      1,
      2,
      5,
      6,
      7,
      8,
      14,
      15,
      17,
      27,
      34,
      37,
      40,
      47,
      49
    ],
    "frames_per_episode": 10,
    "total_frames": 150
  },
  "testing_time_seconds": 53.92178153991699,
  "metrics": {
    "deviation": {
      "average": 0.4480972823021629,
      "std": 0.47458373774015045,
      "max": 1.1697782958252054,
      "min": 0.020532347876316134,
      "rate": 0.3933333333333333
    },
    "components": {
      "position": 0.013939547575466312,
      "rotation": 0.05810544714499732,
      "gripper": 0.37605228758169934
    },
    "cumulative": {
      "avg_per_episode": 4.480972823021629,
      "total": 67.21459234532448,
      "total_position": 2.090932136319948,
      "projected_100_frames": 1.3939547575466318
    },
    "baseline": {
      "avg_gt_error_clean": 1.9181475457333568,
      "avg_gt_error_patched": 1.8488596155775243,
      "error_change": -0.06928793015583246
    },
    "trajectory": {
      "cdt": {
        "success_rate": 0.4666666666666667,
        "n_successes": 7,
        "n_episodes": 15
      },
      "ttf": {
        "mean_frames": 7.111111111111111,
        "min_frames": 5,
        "max_frames": 9,
        "success_rate": 0.6
      },
      "sdr": {
        "3": 0.75,
        "5": 0.7,
        "10": 0.8666666666666667
      },
      "tfp": {
        "mean_score": 0.5063800091440448,
        "max_score": 0.960442140877756,
        "above_1_rate": 0.0
      },
      "actual_drift": {
        "mean": 0.05063800091440448,
        "max": 0.09604421408777561,
        "consistency_mean": 0.363220633179615
      },
      "legacy_cumulative_drift": {
        "mean": 0.13939547575466313,
        "max": 0.17290092549655942
      }
    }
  },
  "episode_metrics": [
    {
      "episode_id": 0,
      "original_id": 1,
      "num_frames": 10,
      "avg_deviation": 0.25927468284993616,
      "std_deviation": 0.391536926439341,
      "avg_pos_deviation": 0.01548974685415606,
      "avg_rot_deviation": 0.04456924972127027,
      "avg_grip_deviation": 0.1992156862745098,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.592746828499361,
      "cumulative_pos_deviation": 0.1548974685415606,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 7,
        "sdr": {
          "3": 0.625,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 0.24613840212598528,
        "cumulative_pos_drift": 0.1548974685415606,
        "actual_drift": {
          "final_drift": 0.02461384021259853,
          "max_drift": 0.0581593131731723,
          "drift_consistency": 0.15890407283805064,
          "drift_trajectory": [
            0.01280495116835057,
            0.01487178194811106,
            0.013866631390419357,
            0.023473563170609703,
            0.030609952400676876,
            0.04928924901236711,
            0.0581593131731723,
            0.05116720053033404,
            0.04194796809612998,
            0.02461384021259853
          ]
        }
      }
    },
    {
      "episode_id": 1,
      "original_id": 2,
      "num_frames": 10,
      "avg_deviation": 0.6394554767690418,
      "std_deviation": 0.4835725573915123,
      "avg_pos_deviation": 0.01357105879127055,
      "avg_rot_deviation": 0.06823735915424187,
      "avg_grip_deviation": 0.5576470588235294,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.394554767690417,
      "cumulative_pos_deviation": 0.1357105879127055,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 8,
        "sdr": {
          "3": 0.875,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.8373778616685826,
        "cumulative_pos_drift": 0.1357105879127055,
        "actual_drift": {
          "final_drift": 0.08373778616685827,
          "max_drift": 0.08470169063153174,
          "drift_consistency": 0.6170320332736415,
          "drift_trajectory": [
            0.003513094306352536,
            0.00694670513460381,
            0.003981495781560701,
            0.0077353708418509875,
            0.019472800522976834,
            0.02347362855245624,
            0.03834702879657635,
            0.07673780104853369,
            0.08470169063153174,
            0.08373778616685827
          ]
        }
      }
    },
    {
      "episode_id": 2,
      "original_id": 5,
      "num_frames": 10,
      "avg_deviation": 0.2783159751362915,
      "std_deviation": 0.4039315783152336,
      "avg_pos_deviation": 0.01337684532390393,
      "avg_rot_deviation": 0.06258618863591703,
      "avg_grip_deviation": 0.20235294117647057,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.7831597513629154,
      "cumulative_pos_deviation": 0.1337684532390393,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.5,
          "5": 0.0,
          "10": 0.0
        },
        "tfp_score": 0.960442140877756,
        "cumulative_pos_drift": 0.1337684532390393,
        "actual_drift": {
          "final_drift": 0.09604421408777561,
          "max_drift": 0.09604421408777561,
          "drift_consistency": 0.7179884687480348,
          "drift_trajectory": [
            0.00806108781322856,
            0.021930034443183293,
            0.02665733633210003,
            0.03173612109488161,
            0.05748508343542909,
            0.06918874254739596,
            0.061986642597114706,
            0.07814108105860826,
            0.09122370947581382,
            0.09604421408777561
          ]
        }
      }
    },
    {
      "episode_id": 3,
      "original_id": 6,
      "num_frames": 10,
      "avg_deviation": 0.3738952640209111,
      "std_deviation": 0.4680082793368426,
      "avg_pos_deviation": 0.010483292480052206,
      "avg_rot_deviation": 0.0645884421290942,
      "avg_grip_deviation": 0.2988235294117647,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.738952640209111,
      "cumulative_pos_deviation": 0.10483292480052206,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.75,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.25230272672544074,
        "cumulative_pos_drift": 0.10483292480052206,
        "actual_drift": {
          "final_drift": 0.025230272672544074,
          "max_drift": 0.025230272672544074,
          "drift_consistency": 0.24067124249218702,
          "drift_trajectory": [
            0.010536362574893038,
            0.01176443440249537,
            0.011767986119022656,
            0.021004861529228955,
            0.009019005639031805,
            0.005688012192601072,
            0.01992485471254403,
            0.02418982858444236,
            0.023958480611633477,
            0.025230272672544074
          ]
        }
      }
    },
    {
      "episode_id": 4,
      "original_id": 7,
      "num_frames": 10,
      "avg_deviation": 0.5957327739216586,
      "std_deviation": 0.5066051508657935,
      "avg_pos_deviation": 0.012619943574187933,
      "avg_rot_deviation": 0.08428930093570605,
      "avg_grip_deviation": 0.4988235294117647,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.957327739216587,
      "cumulative_pos_deviation": 0.12619943574187933,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.875,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.43801805881853784,
        "cumulative_pos_drift": 0.12619943574187933,
        "actual_drift": {
          "final_drift": 0.043801805881853784,
          "max_drift": 0.06458390458844387,
          "drift_consistency": 0.34708397984126915,
          "drift_trajectory": [
            0.0,
            0.006843492412513533,
            0.014332481163076422,
            0.039751220433809714,
            0.06056746043227156,
            0.06458390458844387,
            0.057467693117225584,
            0.047775458858775426,
            0.052290644948935414,
            0.043801805881853784
          ]
        }
      }
    },
    {
      "episode_id": 5,
      "original_id": 8,
      "num_frames": 10,
      "avg_deviation": 0.5080296299599124,
      "std_deviation": 0.45892126609131856,
      "avg_pos_deviation": 0.011855225398064977,
      "avg_rot_deviation": 0.04205675750302391,
      "avg_grip_deviation": 0.4541176470588235,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.080296299599124,
      "cumulative_pos_deviation": 0.11855225398064977,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.875,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.29777260015145496,
        "cumulative_pos_drift": 0.11855225398064977,
        "actual_drift": {
          "final_drift": 0.029777260015145496,
          "max_drift": 0.0351870339347967,
          "drift_consistency": 0.2511741152409015,
          "drift_trajectory": [
            0.004241870404975775,
            0.0031344623887314283,
            0.02010497369497285,
            0.011137629569928156,
            0.006922147166303359,
            0.03173358097073358,
            0.0319878471143398,
            0.029617684456397737,
            0.0351870339347967,
            0.029777260015145496
          ]
        }
      }
    },
    {
      "episode_id": 6,
      "original_id": 14,
      "num_frames": 10,
      "avg_deviation": 0.3142585921327386,
      "std_deviation": 0.3983772881538947,
      "avg_pos_deviation": 0.016179488355238206,
      "avg_rot_deviation": 0.06513792730691212,
      "avg_grip_deviation": 0.2329411764705882,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.142585921327386,
      "cumulative_pos_deviation": 0.16179488355238206,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.625,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.5392288342925652,
        "cumulative_pos_drift": 0.16179488355238206,
        "actual_drift": {
          "final_drift": 0.053922883429256524,
          "max_drift": 0.08162863383150486,
          "drift_consistency": 0.33327926639290795,
          "drift_trajectory": [
            0.012551166835628175,
            0.03489010073792975,
            0.04612805255671607,
            0.04939972752125861,
            0.05618548359417035,
            0.07271610601166759,
            0.08162863383150486,
            0.06107202177803487,
            0.053963634916595754,
            0.053922883429256524
          ]
        }
      }
    },
    {
      "episode_id": 7,
      "original_id": 15,
      "num_frames": 10,
      "avg_deviation": 0.4590858013050935,
      "std_deviation": 0.4835416089099808,
      "avg_pos_deviation": 0.010818737483196759,
      "avg_rot_deviation": 0.05218863244934775,
      "avg_grip_deviation": 0.39607843137254906,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.590858013050935,
      "cumulative_pos_deviation": 0.1081873748319676,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.75,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.1668428635345254,
        "cumulative_pos_drift": 0.1081873748319676,
        "actual_drift": {
          "final_drift": 0.01668428635345254,
          "max_drift": 0.0196298685000873,
          "drift_consistency": 0.15421656027055208,
          "drift_trajectory": [
            0.013860389225890085,
            0.011736141013104492,
            0.00647160485161339,
            0.014355142390820357,
            0.011723640773984176,
            0.017568693969767315,
            0.01464820008241587,
            0.016137655096259536,
            0.0196298685000873,
            0.01668428635345254
          ]
        }
      }
    },
    {
      "episode_id": 8,
      "original_id": 17,
      "num_frames": 10,
      "avg_deviation": 0.3820112981700184,
      "std_deviation": 0.429915627219329,
      "avg_pos_deviation": 0.01545668368039189,
      "avg_rot_deviation": 0.0653781439013912,
      "avg_grip_deviation": 0.30117647058823527,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.8201129817001838,
      "cumulative_pos_deviation": 0.15456683680391886,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 8,
        "sdr": {
          "3": 0.625,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.5229961346240397,
        "cumulative_pos_drift": 0.15456683680391886,
        "actual_drift": {
          "final_drift": 0.05229961346240397,
          "max_drift": 0.06144384741853989,
          "drift_consistency": 0.33836242728526683,
          "drift_trajectory": [
            0.010391787284957732,
            0.014773258208706569,
            0.015747087153261827,
            0.0178228647223457,
            0.01645779900120972,
            0.028471859346909757,
            0.047191610866447284,
            0.06144384741853989,
            0.046604888417201104,
            0.05229961346240397
          ]
        }
      }
    },
    {
      "episode_id": 9,
      "original_id": 27,
      "num_frames": 10,
      "avg_deviation": 0.6106048038002093,
      "std_deviation": 0.4722421493765156,
      "avg_pos_deviation": 0.014178664846888631,
      "avg_rot_deviation": 0.05289672718861475,
      "avg_grip_deviation": 0.5435294117647059,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.1060480380020925,
      "cumulative_pos_deviation": 0.1417866484688863,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.3266742832327399,
        "cumulative_pos_drift": 0.1417866484688863,
        "actual_drift": {
          "final_drift": 0.03266742832327399,
          "max_drift": 0.04273847802260897,
          "drift_consistency": 0.23039846397425706,
          "drift_trajectory": [
            0.0002598252761013345,
            0.014679315554589758,
            0.02301712575759428,
            0.02593433494423966,
            0.04273847802260897,
            0.042728358177346326,
            0.02749113804098051,
            0.02841300547313056,
            0.028569337319544617,
            0.03266742832327399
          ]
        }
      }
    },
    {
      "episode_id": 10,
      "original_id": 34,
      "num_frames": 10,
      "avg_deviation": 0.47448879667414545,
      "std_deviation": 0.4984723309430226,
      "avg_pos_deviation": 0.01591839388954969,
      "avg_rot_deviation": 0.06013903023557614,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.744887966741454,
      "cumulative_pos_deviation": 0.1591839388954969,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.625,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.44871346007247337,
        "cumulative_pos_drift": 0.1591839388954969,
        "actual_drift": {
          "final_drift": 0.04487134600724734,
          "max_drift": 0.04487134600724734,
          "drift_consistency": 0.2818836089856337,
          "drift_trajectory": [
            0.0034253169625372394,
            0.018659492614680414,
            0.010666561788820793,
            0.01888500632773638,
            0.003919716491870247,
            0.01953419906872101,
            0.016805666450115213,
            0.028728245502423467,
            0.03711784125788898,
            0.04487134600724734
          ]
        }
      }
    },
    {
      "episode_id": 11,
      "original_id": 37,
      "num_frames": 10,
      "avg_deviation": 0.3631021821463585,
      "std_deviation": 0.45540873475257226,
      "avg_pos_deviation": 0.014960396773350782,
      "avg_rot_deviation": 0.044612373608301795,
      "avg_grip_deviation": 0.3035294117647059,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.6310218214635843,
      "cumulative_pos_deviation": 0.14960396773350781,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.20641746898826743,
        "cumulative_pos_drift": 0.14960396773350781,
        "actual_drift": {
          "final_drift": 0.020641746898826745,
          "max_drift": 0.04786579192799079,
          "drift_consistency": 0.13797592291026012,
          "drift_trajectory": [
            0.008989630294871024,
            0.008238282934993485,
            0.014952096067719642,
            0.012664756508585466,
            0.010753498848654114,
            0.046846759341581994,
            0.04786579192799079,
            0.03940078823501366,
            0.037031116185153694,
            0.020641746898826745
          ]
        }
      }
    },
    {
      "episode_id": 12,
      "original_id": 40,
      "num_frames": 10,
      "avg_deviation": 0.33294681995383785,
      "std_deviation": 0.4050310286673405,
      "avg_pos_deviation": 0.017290092549655942,
      "avg_rot_deviation": 0.06232339407084857,
      "avg_grip_deviation": 0.2533333333333333,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.329468199538378,
      "cumulative_pos_deviation": 0.17290092549655942,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 8,
        "sdr": {
          "3": 0.5,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.668419198778095,
        "cumulative_pos_drift": 0.17290092549655942,
        "actual_drift": {
          "final_drift": 0.0668419198778095,
          "max_drift": 0.0668419198778095,
          "drift_consistency": 0.3865908514944941,
          "drift_trajectory": [
            0.018556621774431296,
            0.0348987721899177,
            0.04975511058627581,
            0.02092989417113645,
            0.02301850579588486,
            0.02509329268991884,
            0.030746348293472198,
            0.05535924461953338,
            0.053533203995606723,
            0.0668419198778095
          ]
        }
      }
    },
    {
      "episode_id": 13,
      "original_id": 47,
      "num_frames": 10,
      "avg_deviation": 0.5809014779236154,
      "std_deviation": 0.49312384448790353,
      "avg_pos_deviation": 0.01425225241756466,
      "avg_rot_deviation": 0.06390412746683496,
      "avg_grip_deviation": 0.5027450980392156,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.809014779236153,
      "cumulative_pos_deviation": 0.1425225241756466,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 9,
        "sdr": {
          "3": 0.875,
          "5": 0.6666666666666666,
          "10": 1.0
        },
        "tfp_score": 0.8904649224433194,
        "cumulative_pos_drift": 0.1425225241756466,
        "actual_drift": {
          "final_drift": 0.08904649224433195,
          "max_drift": 0.08904649224433195,
          "drift_consistency": 0.6247888641566668,
          "drift_trajectory": [
            0.01345784083100198,
            0.01345784083100198,
            0.013316638230448114,
            0.03336623005155416,
            0.028479499368320713,
            0.02943797806702918,
            0.04438331749760921,
            0.0454163729756659,
            0.07882381984761329,
            0.08904649224433195
          ]
        }
      }
    },
    {
      "episode_id": 14,
      "original_id": 49,
      "num_frames": 10,
      "avg_deviation": 0.5493556597686762,
      "std_deviation": 0.49852824501274856,
      "avg_pos_deviation": 0.01264239121452248,
      "avg_rot_deviation": 0.03867405286787908,
      "avg_grip_deviation": 0.4980392156862745,
      "deviation_rate": 0.5,
      "cumulative_deviation": 5.493556597686761,
      "cumulative_pos_deviation": 0.1264239121452248,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 9,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.7938911808268887,
        "cumulative_pos_drift": 0.1264239121452248,
        "actual_drift": {
          "final_drift": 0.07938911808268888,
          "max_drift": 0.07938911808268888,
          "drift_consistency": 0.6279596197901025,
          "drift_trajectory": [
            0.014550215461674856,
            0.02286462429691763,
            0.03299939832025139,
            0.03894955122880786,
            0.035358842048258156,
            0.03994825369886338,
            0.04947636340852024,
            0.04813887879639301,
            0.05437810281270909,
            0.07938911808268888
          ]
        }
      }
    }
  ]
}