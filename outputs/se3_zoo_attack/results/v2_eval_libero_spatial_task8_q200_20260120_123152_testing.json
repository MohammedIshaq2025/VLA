{
  "run_id": "v2_eval_libero_spatial_task8_q200_20260120_123152",
  "timestamp": "20260120_124113",
  "direction": "Direction 2: Deviation Analysis for Closed-Loop Attack",
  "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task8_q200_20260120_123152_patch.npy",
  "patch_position": [
    48,
    48
  ],
  "args": {
    "patch_path": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack/patches/v2_eval_libero_spatial_task8_q200_20260120_123152_patch.npy",
    "suite": "libero_spatial",
    "task_id": 8,
    "train_ratio": 0.7,
    "frames_per_episode": 10,
    "deviation_threshold": 0.3,
    "drift_threshold": 0.05,
    "task_scale": 0.1,
    "sdr_windows": "3,5,10",
    "patch_x": 48,
    "patch_y": 48,
    "model_path": "/data1/ma1/Ishaq/ump-vla/checkpoints/openvla-7b",
    "device": "cuda:0",
    "output_dir": "/data1/ma1/Ishaq/ump-vla/outputs/se3_zoo_attack",
    "seed": 42
  },
  "task_info": {
    "task_name": "pick_up_the_black_bowl_on_the_stove_and_place_it_on_the_plate",
    "instruction": "pick up the black bowl next to the plate and place it on the plate",
    "total_episodes": 50,
    "test_episodes": 15,
    "test_indices": [
      1,
      2,
      5,
      6,
      7,
      8,
      14,
      15,
      17,
      27,
      34,
      37,
      40,
      47,
      49
    ],
    "frames_per_episode": 10,
    "total_frames": 150
  },
  "testing_time_seconds": 53.82464623451233,
  "metrics": {
    "deviation": {
      "average": 0.5338383326551186,
      "std": 0.49501856092307034,
      "max": 1.2427119113742464,
      "min": 0.0013397294142666882,
      "rate": 0.4866666666666667
    },
    "components": {
      "position": 0.013940172678314064,
      "rotation": 0.049885088081379717,
      "gripper": 0.47001307189542485
    },
    "cumulative": {
      "avg_per_episode": 5.338383326551186,
      "total": 80.07574989826777,
      "total_position": 2.0910259017471096,
      "projected_100_frames": 1.3940172678314064
    },
    "baseline": {
      "avg_gt_error_clean": 1.6468505556598085,
      "avg_gt_error_patched": 1.6737979271014225,
      "error_change": 0.026947371441613965
    },
    "trajectory": {
      "cdt": {
        "success_rate": 0.4666666666666667,
        "n_successes": 7,
        "n_episodes": 15
      },
      "ttf": {
        "mean_frames": 5.7,
        "min_frames": 2,
        "max_frames": 10,
        "success_rate": 0.6666666666666666
      },
      "sdr": {
        "3": 0.8416666666666667,
        "5": 0.7555555555555554,
        "10": 0.8666666666666667
      },
      "tfp": {
        "mean_score": 0.5312162875981671,
        "max_score": 1.3797311167005522,
        "above_1_rate": 0.06666666666666667
      },
      "actual_drift": {
        "mean": 0.053121628759816714,
        "max": 0.13797311167005522,
        "consistency_mean": 0.38408556171652203
      },
      "legacy_cumulative_drift": {
        "mean": 0.13940172678314067,
        "max": 0.1901882755897574
      }
    }
  },
  "episode_metrics": [
    {
      "episode_id": 0,
      "original_id": 1,
      "num_frames": 10,
      "avg_deviation": 0.661889978140447,
      "std_deviation": 0.48458732166959595,
      "avg_pos_deviation": 0.012486465716043177,
      "avg_rot_deviation": 0.05018782614989403,
      "avg_grip_deviation": 0.5992156862745098,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.61889978140447,
      "cumulative_pos_deviation": 0.12486465716043177,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.4004317660052979,
        "cumulative_pos_drift": 0.12486465716043177,
        "actual_drift": {
          "final_drift": 0.04004317660052979,
          "max_drift": 0.04929961244251862,
          "drift_consistency": 0.3206926147416908,
          "drift_trajectory": [
            0.013431273234131345,
            0.02366736203458982,
            0.019112818808122455,
            0.025617953152380985,
            0.030468509843158333,
            0.04435207815465317,
            0.04318601290706308,
            0.04929961244251862,
            0.0420071757700555,
            0.04004317660052979
          ]
        }
      }
    },
    {
      "episode_id": 1,
      "original_id": 2,
      "num_frames": 10,
      "avg_deviation": 0.7100281258491143,
      "std_deviation": 0.4540479322617976,
      "avg_pos_deviation": 0.009578480607546,
      "avg_rot_deviation": 0.058881017790587895,
      "avg_grip_deviation": 0.6415686274509804,
      "deviation_rate": 0.7,
      "cumulative_deviation": 7.100281258491143,
      "cumulative_pos_deviation": 0.09578480607546001,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 6,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.629378695068777,
        "cumulative_pos_drift": 0.09578480607546001,
        "actual_drift": {
          "final_drift": 0.0629378695068777,
          "max_drift": 0.06400859680209721,
          "drift_consistency": 0.6570756418981352,
          "drift_trajectory": [
            0.0,
            0.00940536608134202,
            0.027528672472908182,
            0.046976709593944295,
            0.0479777465228222,
            0.060296571578514375,
            0.06400859680209721,
            0.06400859680209721,
            0.061469068510481464,
            0.0629378695068777
          ]
        }
      }
    },
    {
      "episode_id": 2,
      "original_id": 5,
      "num_frames": 10,
      "avg_deviation": 0.6542697791098743,
      "std_deviation": 0.48371204688869257,
      "avg_pos_deviation": 0.013976890427195776,
      "avg_rot_deviation": 0.04264582985914905,
      "avg_grip_deviation": 0.5976470588235294,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.5426977910987425,
      "cumulative_pos_deviation": 0.1397689042719578,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 4,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.2826602096271319,
        "cumulative_pos_drift": 0.1397689042719578,
        "actual_drift": {
          "final_drift": 0.028266020962713193,
          "max_drift": 0.0583044285720745,
          "drift_consistency": 0.20223395960359322,
          "drift_trajectory": [
            0.017185819595134388,
            0.025114181343738,
            0.0218234074842303,
            0.052222830739628155,
            0.054247574879781234,
            0.0583044285720745,
            0.04883896654952751,
            0.05330098251307612,
            0.03207825703178595,
            0.028266020962713193
          ]
        }
      }
    },
    {
      "episode_id": 3,
      "original_id": 6,
      "num_frames": 10,
      "avg_deviation": 0.47200077828297377,
      "std_deviation": 0.48627224019275356,
      "avg_pos_deviation": 0.008291227779625345,
      "avg_rot_deviation": 0.033121315209230756,
      "avg_grip_deviation": 0.4305882352941176,
      "deviation_rate": 0.5,
      "cumulative_deviation": 4.720007782829738,
      "cumulative_pos_deviation": 0.08291227779625344,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.875,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.20688555466044936,
        "cumulative_pos_drift": 0.08291227779625344,
        "actual_drift": {
          "final_drift": 0.020688555466044936,
          "max_drift": 0.02091864053072637,
          "drift_consistency": 0.24952339413048727,
          "drift_trajectory": [
            0.008928719769633608,
            0.012466302011576787,
            0.013376271647857112,
            0.013649463358056392,
            0.017046645285639445,
            0.020903601295068894,
            0.017434681324764893,
            0.0186470924734566,
            0.02091864053072637,
            0.020688555466044936
          ]
        }
      }
    },
    {
      "episode_id": 4,
      "original_id": 7,
      "num_frames": 10,
      "avg_deviation": 0.7332593337591576,
      "std_deviation": 0.4404674383761814,
      "avg_pos_deviation": 0.01134560567582856,
      "avg_rot_deviation": 0.0426980418088192,
      "avg_grip_deviation": 0.6792156862745098,
      "deviation_rate": 0.7,
      "cumulative_deviation": 7.332593337591576,
      "cumulative_pos_deviation": 0.1134560567582856,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.2310617275938643,
        "cumulative_pos_drift": 0.1134560567582856,
        "actual_drift": {
          "final_drift": 0.023106172759386433,
          "max_drift": 0.02565320048279934,
          "drift_consistency": 0.20365744573724182,
          "drift_trajectory": [
            0.012841343544862261,
            0.02565320048279934,
            0.02296896939155101,
            0.011394186216319832,
            0.011394186216319836,
            0.007992786304954175,
            0.008055884217649861,
            0.01331115748659968,
            0.02071814979010415,
            0.023106172759386433
          ]
        }
      }
    },
    {
      "episode_id": 5,
      "original_id": 8,
      "num_frames": 10,
      "avg_deviation": 0.6602875506988382,
      "std_deviation": 0.5014581375167843,
      "avg_pos_deviation": 0.01901882755897574,
      "avg_rot_deviation": 0.04362166431633291,
      "avg_grip_deviation": 0.5976470588235294,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.602875506988381,
      "cumulative_pos_deviation": 0.1901882755897574,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 2,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 1.3797311167005522,
        "cumulative_pos_drift": 0.1901882755897574,
        "actual_drift": {
          "final_drift": 0.13797311167005522,
          "max_drift": 0.13797311167005522,
          "drift_consistency": 0.7254553625225263,
          "drift_trajectory": [
            0.02339395892220048,
            0.052100060728513246,
            0.08070967125888852,
            0.0843487715538923,
            0.09146229741263019,
            0.10654755021233418,
            0.10654755021233418,
            0.12514620174814528,
            0.12508145190316272,
            0.13797311167005522
          ]
        }
      }
    },
    {
      "episode_id": 6,
      "original_id": 14,
      "num_frames": 10,
      "avg_deviation": 0.39377119216366574,
      "std_deviation": 0.47352914665146495,
      "avg_pos_deviation": 0.011946444824007365,
      "avg_rot_deviation": 0.05241298263377594,
      "avg_grip_deviation": 0.32941176470588235,
      "deviation_rate": 0.4,
      "cumulative_deviation": 3.9377119216366565,
      "cumulative_pos_deviation": 0.11946444824007364,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.75,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.4685914693096084,
        "cumulative_pos_drift": 0.11946444824007364,
        "actual_drift": {
          "final_drift": 0.04685914693096084,
          "max_drift": 0.0491633704391935,
          "drift_consistency": 0.3922434138260062,
          "drift_trajectory": [
            0.012134921365431593,
            0.009846037181642318,
            0.00294333062343628,
            0.016938311213714488,
            0.0385724507212577,
            0.04001101245820553,
            0.041684363871441525,
            0.03967118540911907,
            0.0491633704391935,
            0.04685914693096084
          ]
        }
      }
    },
    {
      "episode_id": 7,
      "original_id": 15,
      "num_frames": 10,
      "avg_deviation": 0.6596030616864915,
      "std_deviation": 0.4918397328803984,
      "avg_pos_deviation": 0.009988151451241784,
      "avg_rot_deviation": 0.04726196905877909,
      "avg_grip_deviation": 0.6023529411764705,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.5960306168649145,
      "cumulative_pos_deviation": 0.09988151451241783,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.75,
          "5": 0.6666666666666666,
          "10": 1.0
        },
        "tfp_score": 0.7842061929465811,
        "cumulative_pos_drift": 0.09988151451241783,
        "actual_drift": {
          "final_drift": 0.07842061929465811,
          "max_drift": 0.07842061929465811,
          "drift_consistency": 0.785136387109394,
          "drift_trajectory": [
            0.020309774219237887,
            0.026327710326303374,
            0.033461516950463586,
            0.04642845456407192,
            0.05260135886510884,
            0.06442081090010757,
            0.06493850920475264,
            0.07406449112507163,
            0.0738056308414234,
            0.07842061929465811
          ]
        }
      }
    },
    {
      "episode_id": 8,
      "original_id": 17,
      "num_frames": 10,
      "avg_deviation": 0.36060600198244674,
      "std_deviation": 0.4873154248029561,
      "avg_pos_deviation": 0.015292957326229848,
      "avg_rot_deviation": 0.04413657406798158,
      "avg_grip_deviation": 0.30117647058823527,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.6060600198244677,
      "cumulative_pos_deviation": 0.15292957326229847,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": null,
        "sdr": {
          "3": 0.75,
          "5": 0.3333333333333333,
          "10": 1.0
        },
        "tfp_score": 0.35074077237744283,
        "cumulative_pos_drift": 0.15292957326229847,
        "actual_drift": {
          "final_drift": 0.035074077237744285,
          "max_drift": 0.035074077237744285,
          "drift_consistency": 0.22934788998663969,
          "drift_trajectory": [
            0.008317354511148062,
            0.031560438169280815,
            0.032414379388774645,
            0.022112700230206218,
            0.02431629806630809,
            0.020079817698713344,
            0.02464911110615589,
            0.024377539855035428,
            0.030810609656427443,
            0.035074077237744285
          ]
        }
      }
    },
    {
      "episode_id": 9,
      "original_id": 27,
      "num_frames": 10,
      "avg_deviation": 0.4583726957607202,
      "std_deviation": 0.48971976607397055,
      "avg_pos_deviation": 0.01330056735397291,
      "avg_rot_deviation": 0.0466407558577277,
      "avg_grip_deviation": 0.3984313725490196,
      "deviation_rate": 0.4,
      "cumulative_deviation": 4.583726957607202,
      "cumulative_pos_deviation": 0.13300567353972909,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.75,
          "5": 0.5,
          "10": 1.0
        },
        "tfp_score": 0.46941873644302967,
        "cumulative_pos_drift": 0.13300567353972909,
        "actual_drift": {
          "final_drift": 0.04694187364430297,
          "max_drift": 0.06633446149534787,
          "drift_consistency": 0.35293133642880253,
          "drift_trajectory": [
            0.006495631902533411,
            0.008404870237563967,
            0.018326513031076325,
            0.04587342302161888,
            0.051198219767880825,
            0.06087641940137268,
            0.05357626886879871,
            0.051142076102648266,
            0.06633446149534787,
            0.04694187364430297
          ]
        }
      }
    },
    {
      "episode_id": 10,
      "original_id": 34,
      "num_frames": 10,
      "avg_deviation": 0.23881991499968747,
      "std_deviation": 0.31966847890026767,
      "avg_pos_deviation": 0.015771708893500738,
      "avg_rot_deviation": 0.052067813949323985,
      "avg_grip_deviation": 0.17098039215686275,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.3881991499968747,
      "cumulative_pos_deviation": 0.15771708893500738,
      "trajectory_metrics": {
        "cdt_success": false,
        "ttf_frames": 9,
        "sdr": {
          "3": 0.375,
          "5": 0.3333333333333333,
          "10": 0.0
        },
        "tfp_score": 0.3859235251914772,
        "cumulative_pos_drift": 0.15771708893500738,
        "actual_drift": {
          "final_drift": 0.03859235251914772,
          "max_drift": 0.050487276404191664,
          "drift_consistency": 0.2446935226411373,
          "drift_trajectory": [
            0.01621554280910119,
            0.01621554280910119,
            0.014957656272625465,
            0.011901506924478373,
            0.021963089161107705,
            0.024242974425516373,
            0.014530840921541917,
            0.015753777183049593,
            0.050487276404191664,
            0.03859235251914772
          ]
        }
      }
    },
    {
      "episode_id": 11,
      "original_id": 37,
      "num_frames": 10,
      "avg_deviation": 0.3781704431140864,
      "std_deviation": 0.4633768403166229,
      "avg_pos_deviation": 0.015930660469431306,
      "avg_rot_deviation": 0.06341625323289038,
      "avg_grip_deviation": 0.2988235294117647,
      "deviation_rate": 0.3,
      "cumulative_deviation": 3.781704431140864,
      "cumulative_pos_deviation": 0.15930660469431304,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 5,
        "sdr": {
          "3": 0.75,
          "5": 0.6666666666666666,
          "10": 1.0
        },
        "tfp_score": 0.5762885233885336,
        "cumulative_pos_drift": 0.15930660469431304,
        "actual_drift": {
          "final_drift": 0.05762885233885337,
          "max_drift": 0.06823443263563277,
          "drift_consistency": 0.3617480193740544,
          "drift_trajectory": [
            0.011208401987501084,
            0.01973259788796139,
            0.032239963165881486,
            0.04120949919053176,
            0.0567556159143599,
            0.0523541765340306,
            0.06823443263563277,
            0.05621316851007453,
            0.05889475500674357,
            0.05762885233885337
          ]
        }
      }
    },
    {
      "episode_id": 12,
      "original_id": 40,
      "num_frames": 10,
      "avg_deviation": 0.6676857378071797,
      "std_deviation": 0.48275624328028804,
      "avg_pos_deviation": 0.01736558921153268,
      "avg_rot_deviation": 0.05424171722309788,
      "avg_grip_deviation": 0.596078431372549,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.676857378071796,
      "cumulative_pos_deviation": 0.1736558921153268,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 3,
        "sdr": {
          "3": 0.875,
          "5": 0.8333333333333334,
          "10": 1.0
        },
        "tfp_score": 0.7010045157652501,
        "cumulative_pos_drift": 0.1736558921153268,
        "actual_drift": {
          "final_drift": 0.07010045157652502,
          "max_drift": 0.08567392775582267,
          "drift_consistency": 0.40367445461180196,
          "drift_trajectory": [
            0.0,
            0.020210099541620927,
            0.0733830185331931,
            0.05964923444760819,
            0.08567392775582267,
            0.08028713589600577,
            0.07074679058705811,
            0.07358586960914236,
            0.07959877250869513,
            0.07010045157652502
          ]
        }
      }
    },
    {
      "episode_id": 13,
      "original_id": 47,
      "num_frames": 10,
      "avg_deviation": 0.6794369401719772,
      "std_deviation": 0.5106724617383509,
      "avg_pos_deviation": 0.017147909370934154,
      "avg_rot_deviation": 0.06464197197751372,
      "avg_grip_deviation": 0.5976470588235294,
      "deviation_rate": 0.6,
      "cumulative_deviation": 6.794369401719772,
      "cumulative_pos_deviation": 0.17147909370934153,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 10,
        "sdr": {
          "3": 1.0,
          "5": 1.0,
          "10": 1.0
        },
        "tfp_score": 0.5278349618020154,
        "cumulative_pos_drift": 0.17147909370934153,
        "actual_drift": {
          "final_drift": 0.05278349618020155,
          "max_drift": 0.05278349618020155,
          "drift_consistency": 0.3078129931776994,
          "drift_trajectory": [
            0.01596710166589254,
            0.019554017869830534,
            0.026016064411492793,
            0.027207545863377886,
            0.025055258886232785,
            0.043060568407090695,
            0.04129193356656791,
            0.038538925583711005,
            0.03873543873859164,
            0.05278349618020155
          ]
        }
      }
    },
    {
      "episode_id": 14,
      "original_id": 49,
      "num_frames": 10,
      "avg_deviation": 0.27937345630011956,
      "std_deviation": 0.395944096763363,
      "avg_pos_deviation": 0.017661103508645585,
      "avg_rot_deviation": 0.05230058808559166,
      "avg_grip_deviation": 0.20941176470588233,
      "deviation_rate": 0.2,
      "cumulative_deviation": 2.7937345630011956,
      "cumulative_pos_deviation": 0.17661103508645584,
      "trajectory_metrics": {
        "cdt_success": true,
        "ttf_frames": 8,
        "sdr": {
          "3": 0.75,
          "5": 0.16666666666666666,
          "10": 0.0
        },
        "tfp_score": 0.5740865470924953,
        "cumulative_pos_drift": 0.17661103508645584,
        "actual_drift": {
          "final_drift": 0.05740865470924953,
          "max_drift": 0.059281793777829044,
          "drift_consistency": 0.3250569899586204,
          "drift_trajectory": [
            0.013254017306479751,
            0.04460516589040537,
            0.038531482207686034,
            0.04015557894756638,
            0.04070025428271854,
            0.03384878372972713,
            0.0247011113654357,
            0.050552572289875364,
            0.059281793777829044,
            0.05740865470924953
          ]
        }
      }
    }
  ]
}